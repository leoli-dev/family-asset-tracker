
import { Language, AssetCategory, Currency } from '../types';
import { CURRENCY_FLAGS } from '../constants';

export const TRANSLATIONS = {
  [Language.EN]: {
    'app.title': 'Family Asset Tracker',
    'nav.overview': 'Overview',
    'nav.add': 'Add',
    'nav.history': 'History',
    'nav.settings': 'Settings',
    'dash.netWorth': 'Net Worth',
    'dash.assets': 'Total Assets',
    'dash.liabilities': 'Total Liabilities',
    'dash.allocation': 'Asset Allocation',
    'dash.liabilitiesDist': 'Liabilities Distribution',
    'dash.byCategory': 'By Category',
    'dash.byAccount': 'By Account',
    'dash.trend': 'Wealth Trend (Monthly)',
    'dash.noData': 'No Data Yet',
    'dash.start': 'Start by adding your first asset or liability record.',
    'entry.title': 'Add New Entry',
    'entry.date': 'Date',
    'entry.account': 'Account Name',
    'entry.accountPlaceholder': 'e.g., Chase Checking, Fidelity IRA',
    'entry.owner': 'Owner',
    'entry.ownerPlaceholder': 'e.g., John, Mary',
    'entry.currency': 'Currency',
    'entry.amount': 'Amount',
    'entry.category': 'Category',
    'entry.note': 'Note',
    'entry.notePlaceholder': 'Optional details...',
    'entry.save': 'Save Record',
    'entry.demo': 'Entry Disabled in Demo',
    'entry.alertDemo': 'You are currently in Demo Mode. Please exit Demo Mode in Settings to add your own data.',
    'entry.alertSaved': 'Record saved!',
    'entry.demoBanner': 'DEMO MODE: Read-only',
    'history.filter': 'Filter History',
    'history.clear': 'Clear Filters',
    'history.allAccounts': 'All Accounts',
    'history.allOwners': 'All Owners',
    'history.allCategories': 'All Categories',
    'history.noMatch': 'No records match your current filters.',
    'history.noRecords': 'No history records found.',
    'history.deleteConfirm': 'Are you sure you want to delete this record?',
    'history.demoDelete': 'You are in Demo Mode. You cannot delete demo data individually. Please Exit Demo Mode to clear all data.',
    'history.page': 'Page',
    'history.of': 'of',
    'settings.prefs': 'Preferences',
    'settings.language': 'Language',
    'settings.defaultCurrency': 'Default Currency',
    'settings.currencyDesc': 'This currency will be used for dashboard aggregations.',
    'settings.data': 'Data Management',
    'settings.export': 'Export CSV',
    'settings.exportDesc': 'For Excel or Google Sheets',
    'settings.backup': 'Backup Data (JSON)',
    'settings.backupDesc': 'Save to Files, Drive or iCloud',
    'settings.restore': 'Restore Backup',
    'settings.restoreDesc': 'Import a previously saved JSON file',
    'settings.demoActive': 'Demo Mode Active',
    'settings.demoDesc': 'You are currently viewing sample data. To start tracking your own assets, exit demo mode. This will clear all sample data.',
    'settings.exitDemo': 'Exit Demo & Clear Data',
    'settings.restoreConfirm': 'Found {0} records. This will overwrite your current data. Continue?',
    'settings.restoreSuccess': 'Data restored successfully!',
    'settings.restoreError': 'Invalid file format. Please upload a valid JSON backup file.',
    'settings.parseError': 'Error parsing file. Make sure it is a valid JSON file.'
  },
  [Language.FR]: {
    'app.title': 'Suivi de Patrimoine',
    'nav.overview': 'Aperçu',
    'nav.add': 'Ajouter',
    'nav.history': 'Historique',
    'nav.settings': 'Réglages',
    'dash.netWorth': 'Valeur Nette',
    'dash.assets': 'Total Actifs',
    'dash.liabilities': 'Total Passifs',
    'dash.allocation': 'Répartition des Actifs',
    'dash.liabilitiesDist': 'Répartition du Passif',
    'dash.byCategory': 'Par Catégorie',
    'dash.byAccount': 'Par Compte',
    'dash.trend': 'Évolution (Mensuelle)',
    'dash.noData': 'Aucune donnée',
    'dash.start': 'Commencez par ajouter votre premier actif ou passif.',
    'entry.title': 'Nouvelle Entrée',
    'entry.date': 'Date',
    'entry.account': 'Nom du compte',
    'entry.accountPlaceholder': 'ex: Compte Chèque, Livret A',
    'entry.owner': 'Propriétaire',
    'entry.ownerPlaceholder': 'ex: Jean, Marie',
    'entry.currency': 'Devise',
    'entry.amount': 'Montant',
    'entry.category': 'Catégorie',
    'entry.note': 'Note',
    'entry.notePlaceholder': 'Détails optionnels...',
    'entry.save': 'Enregistrer',
    'entry.demo': 'Saisie désactivée (Démo)',
    'entry.alertDemo': 'Mode Démo actif. Veuillez quitter le mode Démo dans les réglages pour ajouter vos données.',
    'entry.alertSaved': 'Enregistré !',
    'entry.demoBanner': 'MODE DÉMO : Lecture seule',
    'history.filter': 'Filtrer',
    'history.clear': 'Effacer filtres',
    'history.allAccounts': 'Tous les comptes',
    'history.allOwners': 'Tous les propriétaires',
    'history.allCategories': 'Toutes catégories',
    'history.noMatch': 'Aucun résultat pour ces filtres.',
    'history.noRecords': 'Aucun historique trouvé.',
    'history.deleteConfirm': 'Voulez-vous vraiment supprimer cette entrée ?',
    'history.demoDelete': 'Mode Démo actif. Impossible de supprimer des données individuellement.',
    'history.page': 'Page',
    'history.of': 'sur',
    'settings.prefs': 'Préférences',
    'settings.language': 'Langue',
    'settings.defaultCurrency': 'Devise par défaut',
    'settings.currencyDesc': 'Utilisée pour les totaux du tableau de bord.',
    'settings.data': 'Gestion des Données',
    'settings.export': 'Exporter CSV',
    'settings.exportDesc': 'Pour Excel ou Google Sheets',
    'settings.backup': 'Sauvegarde (JSON)',
    'settings.backupDesc': 'Enregistrer dans Fichiers ou Drive',
    'settings.restore': 'Restaurer Sauvegarde',
    'settings.restoreDesc': 'Importer un fichier JSON existant',
    'settings.demoActive': 'Mode Démo Actif',
    'settings.demoDesc': 'Vous visualisez des données exemples. Quittez le mode démo pour commencer.',
    'settings.exitDemo': 'Quitter Démo & Effacer',
    'settings.restoreConfirm': '{0} entrées trouvées. Cela écrasera les données actuelles. Continuer ?',
    'settings.restoreSuccess': 'Données restaurées !',
    'settings.restoreError': 'Format de fichier invalide.',
    'settings.parseError': 'Erreur de lecture du fichier.'
  },
  [Language.ZH]: {
    'app.title': '家庭资产管家',
    'nav.overview': '概览',
    'nav.add': '记账',
    'nav.history': '明细',
    'nav.settings': '设置',
    'dash.netWorth': '净资产',
    'dash.assets': '总资产',
    'dash.liabilities': '总负债',
    'dash.allocation': '资产分布',
    'dash.liabilitiesDist': '负债分布',
    'dash.byCategory': '按分类',
    'dash.byAccount': '按账户',
    'dash.trend': '财富走势 (月度)',
    'dash.noData': '暂无数据',
    'dash.start': '请添加第一笔资产或负债记录。',
    'entry.title': '新增记录',
    'entry.date': '日期',
    'entry.account': '账户名称',
    'entry.accountPlaceholder': '例如：招商银行储蓄卡, 支付宝',
    'entry.owner': '所有人',
    'entry.ownerPlaceholder': '例如：张三, 李四',
    'entry.currency': '货币',
    'entry.amount': '金额',
    'entry.category': '分类',
    'entry.note': '备注',
    'entry.notePlaceholder': '选填...',
    'entry.save': '保存记录',
    'entry.demo': '演示模式不可录入',
    'entry.alertDemo': '当前为演示模式。请在设置中退出演示模式以添加您自己的数据。',
    'entry.alertSaved': '保存成功！',
    'entry.demoBanner': '演示模式：仅供阅览',
    'history.filter': '筛选明细',
    'history.clear': '清除筛选',
    'history.allAccounts': '所有账户',
    'history.allOwners': '所有成员',
    'history.allCategories': '所有分类',
    'history.noMatch': '没有符合条件的记录。',
    'history.noRecords': '暂无历史记录。',
    'history.deleteConfirm': '确定要删除这条记录吗？',
    'history.demoDelete': '演示模式下无法单独删除数据。',
    'history.page': '页',
    'history.of': '/',
    'settings.prefs': '偏好设置',
    'settings.language': '语言',
    'settings.defaultCurrency': '默认货币',
    'settings.currencyDesc': '将用于仪表盘总资产统计。',
    'settings.data': '数据管理',
    'settings.export': '导出 CSV',
    'settings.exportDesc': '适用于 Excel 或 Google Sheets',
    'settings.backup': '备份数据 (JSON)',
    'settings.backupDesc': '保存到文件或云盘',
    'settings.restore': '恢复备份',
    'settings.restoreDesc': '导入之前的 JSON 备份文件',
    'settings.demoActive': '演示模式运行中',
    'settings.demoDesc': '您正在查看示例数据。要开始记录您自己的资产，请退出演示模式（将清空数据）。',
    'settings.exitDemo': '退出演示并清空',
    'settings.restoreConfirm': '发现 {0} 条记录。这将覆盖当前数据。是否继续？',
    'settings.restoreSuccess': '数据恢复成功！',
    'settings.restoreError': '文件格式无效，请上传正确的 JSON 备份。',
    'settings.parseError': '文件解析错误，请确保是有效的 JSON 文件。'
  }
};

export const CATEGORY_LABELS: Record<Language, Record<AssetCategory, string>> = {
  [Language.EN]: {
    [AssetCategory.STOCK]: 'Stock Investment',
    [AssetCategory.CRYPTO]: 'Cryptocurrency',
    [AssetCategory.CASH]: 'Cash/Savings',
    [AssetCategory.REAL_ESTATE]: 'Real Estate',
    [AssetCategory.INSURANCE]: 'Insurance',
    [AssetCategory.LIABILITY]: 'Liability (Loan/Debt)',
    [AssetCategory.OTHER]: 'Other'
  },
  [Language.FR]: {
    [AssetCategory.STOCK]: 'Investissement Boursier',
    [AssetCategory.CRYPTO]: 'Cryptomonnaie',
    [AssetCategory.CASH]: 'Liquidités/Épargne',
    [AssetCategory.REAL_ESTATE]: 'Immobilier',
    [AssetCategory.INSURANCE]: 'Assurance',
    [AssetCategory.LIABILITY]: 'Dette/Emprunt',
    [AssetCategory.OTHER]: 'Autre'
  },
  [Language.ZH]: {
    [AssetCategory.STOCK]: '股市投资',
    [AssetCategory.CRYPTO]: '加密货币',
    [AssetCategory.CASH]: '现金/储蓄',
    [AssetCategory.REAL_ESTATE]: '不动产',
    [AssetCategory.INSURANCE]: '保险',
    [AssetCategory.LIABILITY]: '负债 (贷款/欠款)',
    [AssetCategory.OTHER]: '其他'
  }
};

export const CURRENCY_NAMES: Record<Language, Record<Currency, string>> = {
  [Language.EN]: {
    [Currency.USD]: 'US Dollar',
    [Currency.EUR]: 'Euro',
    [Currency.JPY]: 'Japanese Yen',
    [Currency.GBP]: 'British Pound',
    [Currency.CNY]: 'Chinese Yuan',
    [Currency.AUD]: 'Australian Dollar',
    [Currency.CAD]: 'Canadian Dollar',
    [Currency.CHF]: 'Swiss Franc',
    [Currency.HKD]: 'Hong Kong Dollar',
    [Currency.SGD]: 'Singapore Dollar',
    [Currency.SEK]: 'Swedish Krona',
    [Currency.KRW]: 'South Korean Won',
    [Currency.NOK]: 'Norwegian Krone',
    [Currency.NZD]: 'New Zealand Dollar',
    [Currency.INR]: 'Indian Rupee',
    [Currency.MXN]: 'Mexican Peso',
    [Currency.TWD]: 'New Taiwan Dollar',
    [Currency.ZAR]: 'South African Rand',
    [Currency.BRL]: 'Brazilian Real',
    [Currency.DKK]: 'Danish Krone',
    [Currency.PLN]: 'Polish Zloty',
    [Currency.THB]: 'Thai Baht',
    [Currency.IDR]: 'Indonesian Rupiah',
    [Currency.MYR]: 'Malaysian Ringgit',
    [Currency.VND]: 'Vietnamese Dong'
  },
  [Language.FR]: {
    [Currency.USD]: 'Dollar américain',
    [Currency.EUR]: 'Euro',
    [Currency.JPY]: 'Yen japonais',
    [Currency.GBP]: 'Livre sterling',
    [Currency.CNY]: 'Yuan chinois',
    [Currency.AUD]: 'Dollar australien',
    [Currency.CAD]: 'Dollar canadien',
    [Currency.CHF]: 'Franc suisse',
    [Currency.HKD]: 'Dollar de Hong Kong',
    [Currency.SGD]: 'Dollar de Singapour',
    [Currency.SEK]: 'Couronne suédoise',
    [Currency.KRW]: 'Won sud-coréen',
    [Currency.NOK]: 'Couronne norvégienne',
    [Currency.NZD]: 'Dollar néo-zélandais',
    [Currency.INR]: 'Roupie indienne',
    [Currency.MXN]: 'Peso mexicain',
    [Currency.TWD]: 'Nouveau dollar de Taïwan',
    [Currency.ZAR]: 'Rand sud-africain',
    [Currency.BRL]: 'Réal brésilien',
    [Currency.DKK]: 'Couronne danoise',
    [Currency.PLN]: 'Złoty polonais',
    [Currency.THB]: 'Baht thaïlandais',
    [Currency.IDR]: 'Roupie indonésienne',
    [Currency.MYR]: 'Ringgit malaisien',
    [Currency.VND]: 'Dong vietnamien'
  },
  [Language.ZH]: {
    [Currency.USD]: '美元',
    [Currency.EUR]: '欧元',
    [Currency.JPY]: '日元',
    [Currency.GBP]: '英镑',
    [Currency.CNY]: '人民币',
    [Currency.AUD]: '澳元',
    [Currency.CAD]: '加拿大元',
    [Currency.CHF]: '瑞士法郎',
    [Currency.HKD]: '港币',
    [Currency.SGD]: '新加坡元',
    [Currency.SEK]: '瑞典克朗',
    [Currency.KRW]: '韩元',
    [Currency.NOK]: '挪威克朗',
    [Currency.NZD]: '新西兰元',
    [Currency.INR]: '印度卢比',
    [Currency.MXN]: '墨西哥比索',
    [Currency.TWD]: '新台币',
    [Currency.ZAR]: '南非兰特',
    [Currency.BRL]: '巴西雷亚尔',
    [Currency.DKK]: '丹麦克朗',
    [Currency.PLN]: '波兰兹罗提',
    [Currency.THB]: '泰铢',
    [Currency.IDR]: '印尼盾',
    [Currency.MYR]: '马来西亚林吉特',
    [Currency.VND]: '越南盾'
  }
};

export const t = (key: string, lang: Language, params?: any[]): string => {
  const dict = TRANSLATIONS[lang] || TRANSLATIONS[Language.EN];
  let str = (dict as any)[key] || key;
  if (params) {
      params.forEach((param, index) => {
          str = str.replace(`{${index}}`, String(param));
      });
  }
  return str;
};

export const getCurrencyLabel = (currency: Currency, language: Language): string => {
  const flag = CURRENCY_FLAGS[currency] || '';
  const name = CURRENCY_NAMES[language][currency] || currency;
  return `${flag} ${currency} - ${name}`;
};
